{% extends "base.html" %}
{% block title %}New Booking | Velocity{% endblock %}

{% block content %}
<div class="flex min-h-screen bg-gray-950 text-gray-200">

  <!-- Sidebar -->
  {% include 'sidebar.html' %}

  <!-- Main Content -->
  <main class="flex-1 p-8">

    <!-- Header -->
    <div class="mb-10">
      <h1 class="text-3xl font-bold">Create New Booking</h1>
      <p class="text-gray-400 mt-1">Select a car and dates to book your rental</p>
    </div>

    <!-- Booking Form -->
    <div class="bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-2xl">

      <form method="POST" action="{% url 'new_booking' %}" class="space-y-6">
        {% csrf_token %}

        <!-- Car Selection -->
        <div>
          <label class="block text-gray-300 font-medium mb-2">Select Car</label>
          <select name="car_id" required class="w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-yellow-400 focus:outline-none text-white">
            <option value="">-- Choose a car --</option>
            {% for car in cars %}
            <option value="{{ car.id }}">
              {{ car.brand }} {{ car.car_model }} ({{ car.car_variant }}) - ${{ car.price }}/day
            </option>
            {% endfor %}
          </select>
        </div>

        <!-- Pickup Date -->
        <div>
          <label class="block text-gray-300 font-medium mb-2">Pickup Date</label>
          <input type="date" name="start_date" required class="w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-yellow-400 focus:outline-none text-white">
        </div>

        <!-- Return Date -->
        <div>
          <label class="block text-gray-300 font-medium mb-2">Return Date</label>
          <input type="date" name="end_date" required class="w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-yellow-400 focus:outline-none text-white">
        </div>

        <!-- Submit Button -->
        <div class="pt-6 border-t border-gray-800 flex gap-4">
          <button type="submit" class="bg-yellow-400 text-black px-6 py-3 rounded-lg font-semibold hover:opacity-90 transition">
            Create Booking
          </button>
          <a href="{% url 'fleet' %}" class="bg-gray-800 hover:bg-gray-700 px-6 py-3 rounded-lg font-semibold transition">
            Cancel
          </a>
        </div>

      </form>

    </div>

  </main>
</div>
{% endblock %}
