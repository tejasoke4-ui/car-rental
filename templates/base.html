<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{% block title %}Velocity Rentals{% endblock %}</title>
<script src="https://cdn.tailwindcss.com"></script>

<style>
  .fade-in {
    opacity: 0;
    transform: translateY(40px);
    transition: all 0.8s ease;
  }
  .fade-in.show {
    opacity: 1;
    transform: translateY(0);
  }
</style>
</head>

<body class="bg-gray-950 text-white font-sans overflow-x-hidden">

<!-- Navbar -->
<header class="fixed w-full z-50 bg-black/50 backdrop-blur-xl border-b border-white/10">
  <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
    <h1 class="text-2xl font-bold tracking-widest text-yellow-400">
      <a href="{% url 'home' %}">VELOCITY</a>
    </h1>
    <nav class="hidden md:flex space-x-8 text-sm items-center">
      <a href="{% url 'home' %}" class="hover:text-yellow-400">Home</a>
      <a href="{% url 'fleet' %}" class="hover:text-yellow-400">Fleet</a>
      <a href="{% url 'about' %}" class="hover:text-yellow-400">About</a>
      <a href="{% url 'contact' %}" class="hover:text-yellow-400">Contact</a>
      {% if request.session.username %}
        <!-- User Dropdown -->
        <div class="relative group">
          <button class="bg-yellow-400 text-black px-4 py-2 rounded-lg font-semibold hover:opacity-90 transition flex items-center gap-2">
            Hi, {{ request.session.full_name|default:request.session.username }}
            <svg class="w-4 h-4 transition group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>
            </svg>
          </button>

          <!-- Dropdown Menu -->
          <div class="absolute right-0 mt-0 w-48 bg-gray-900 border border-gray-800 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
            <a href="{% url 'profile' %}" class="block px-4 py-2 hover:bg-gray-800 text-white rounded-t-lg transition">
              My Profile
            </a>
            <a href="{% url 'mybookings' %}" class="block px-4 py-2 hover:bg-gray-800 text-white transition">
              My Bookings
            </a>
            <a href="{% url 'dashboard' %}" class="block px-4 py-2 hover:bg-gray-800 text-white transition">
              Dashboard
            </a>
            <hr class="border-gray-800">
            <a href="{% url 'logout' %}" class="block px-4 py-2 hover:bg-red-500/20 text-red-400 rounded-b-lg transition font-semibold">
              Logout
            </a>
          </div>
        </div>
      {% else %}
        <a href="{% url 'login' %}" class="bg-yellow-400 text-black px-4 py-2 rounded-lg font-semibold hover:opacity-90">Login</a>
        <a href="{% url 'register' %}" class="border border-yellow-400 text-yellow-400 px-4 py-2 rounded-lg hover:bg-yellow-400/10">Register</a>
      {% endif %}
    </nav>
  </div>
</header>

<div class="pt-24">
{% block content %}
{% endblock %}
</div>

<!-- Footer -->
<footer class="py-12 text-center text-gray-500 border-t border-white/10">
Â© 2026 Velocity Rentals. All rights reserved.
</footer>

<script>
const faders = document.querySelectorAll(".fade-in");
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add("show");
    }
  });
});
faders.forEach(fade => observer.observe(fade));
</script>

</body>
</html>
